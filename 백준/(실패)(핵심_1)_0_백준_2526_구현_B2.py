N,P = map(int,input().split())

set = set()


while True:

    output = N*N

    result = output % P

    set.add(result)

    count_set = len(set)







